{"version":3,"sources":["../../meta.ts","../../src/stores-v1-abandoned-cart-abandoned-carts.http.ts","../../src/stores-v1-abandoned-cart-abandoned-carts.types.ts","../../src/stores-v1-abandoned-cart-abandoned-carts.meta.ts"],"sourcesContent":["export * from './src/stores-v1-abandoned-cart-abandoned-carts.meta.js';\n","import { toURLSearchParams } from '@wix/sdk-runtime/rest-modules';\nimport { transformRESTTimestampToSDKTimestamp } from '@wix/sdk-runtime/transformations/timestamp';\nimport { transformPaths } from '@wix/sdk-runtime/transformations/transform-paths';\nimport { resolveUrl } from '@wix/sdk-runtime/rest-modules';\nimport { ResolveUrlOpts } from '@wix/sdk-runtime/rest-modules';\nimport { RequestOptionsFactory } from '@wix/sdk-types';\n\nfunction resolveWixCartAbandonmentApiV1AbandonedCartsUrl(\n  opts: Omit<ResolveUrlOpts, 'domainToMappings'>\n) {\n  const domainToMappings = {};\n\n  return resolveUrl(Object.assign(opts, { domainToMappings }));\n}\n\nconst PACKAGE_NAME = '@wix/auto_sdk_stores_abandoned-carts';\n\n/**\n * Returns abandoned carts based on the cart ID\n * @deprecated Will be removed on 2024-03-31.\n */\nexport function getAbandonedCart(payload: object): RequestOptionsFactory<any> {\n  function __getAbandonedCart({ host }: any) {\n    const metadata = {\n      entityFqdn: 'wix.stores.v1.abandoned_cart',\n      method: 'GET' as any,\n      methodFqn: 'wix.cart.abandonment.api.v1.AbandonedCarts.GetAbandonedCart',\n      packageName: PACKAGE_NAME,\n      migrationOptions: {\n        optInTransformResponse: true,\n      },\n      url: resolveWixCartAbandonmentApiV1AbandonedCartsUrl({\n        protoPath: '/v1/abandonedCarts/{id}',\n        data: payload,\n        host,\n      }),\n      params: toURLSearchParams(payload),\n      transformResponse: (payload: any) =>\n        transformPaths(payload, [\n          {\n            transformFn: transformRESTTimestampToSDKTimestamp,\n            paths: [\n              { path: 'abandonedCart.abandonTime' },\n              { path: 'abandonedCart.activities.timestamp' },\n            ],\n          },\n        ]),\n    };\n\n    return metadata;\n  }\n\n  return __getAbandonedCart;\n}\n\n/**\n * Returns abandoned carts based on the requested query parameters\n * @deprecated Will be removed on 2024-03-31.\n */\nexport function queryAbandonedCarts(\n  payload: object\n): RequestOptionsFactory<any> {\n  function __queryAbandonedCarts({ host }: any) {\n    const metadata = {\n      entityFqdn: 'wix.stores.v1.abandoned_cart',\n      method: 'POST' as any,\n      methodFqn:\n        'wix.cart.abandonment.api.v1.AbandonedCarts.QueryAbandonedCarts',\n      packageName: PACKAGE_NAME,\n      migrationOptions: {\n        optInTransformResponse: true,\n      },\n      url: resolveWixCartAbandonmentApiV1AbandonedCartsUrl({\n        protoPath: '/v1/abandonedCarts/query',\n        data: payload,\n        host,\n      }),\n      data: payload,\n      transformResponse: (payload: any) =>\n        transformPaths(payload, [\n          {\n            transformFn: transformRESTTimestampToSDKTimestamp,\n            paths: [\n              { path: 'abandonedCarts.abandonTime' },\n              { path: 'abandonedCarts.activities.timestamp' },\n            ],\n          },\n        ]),\n    };\n\n    return metadata;\n  }\n\n  return __queryAbandonedCarts;\n}\n","export interface AbandonedCart {\n  /**\n   * Original cart ID\n   * @format GUID\n   */\n  id?: string;\n  /** Cart status */\n  status?: StatusWithLiterals;\n  /**\n   * Time the cart was abandoned\n   * @readonly\n   */\n  abandonTime?: Date | null;\n  /** Buyer information */\n  buyerInfo?: BuyerInfo;\n  /** Cart total including currency symbol */\n  total?: string | null;\n  /**\n   * History activities\n   * @readonly\n   */\n  activities?: Activity[];\n}\n\nexport enum Status {\n  ABANDONED = 'ABANDONED',\n  RECOVERED = 'RECOVERED',\n}\n\n/** @enumType */\nexport type StatusWithLiterals = Status | 'ABANDONED' | 'RECOVERED';\n\nexport interface BuyerInfo {\n  /**\n   * Wix customer ID\n   * @format GUID\n   */\n  id?: string;\n  /** Customer information */\n  identityType?: IdentityWithLiterals;\n  /**\n   * Customer's email address\n   * @maxLength 50\n   * @format EMAIL\n   */\n  email?: string | null;\n  /**\n   * Customer's phone number\n   * @format PHONE\n   */\n  phone?: string | null;\n  /** Customer's first name */\n  firstName?: string | null;\n  /** Customer's last name */\n  lastName?: string | null;\n}\n\nexport enum Identity {\n  /** Customer is the site owner */\n  ADMIN = 'ADMIN',\n  /** Customer is logged in */\n  MEMBER = 'MEMBER',\n  /** Customer is not logged in */\n  VISITOR = 'VISITOR',\n  /** Contact was created for the customer */\n  CONTACT = 'CONTACT',\n}\n\n/** @enumType */\nexport type IdentityWithLiterals =\n  | Identity\n  | 'ADMIN'\n  | 'MEMBER'\n  | 'VISITOR'\n  | 'CONTACT';\n\nexport interface Activity {\n  /**\n   * Log item type\n   * @readonly\n   */\n  activityType?: ActivityTypeWithLiterals;\n  /**\n   * Comment added to Log item\n   * @maxLength 1000\n   * @readonly\n   */\n  message?: string | null;\n  /**\n   * Log item occurrence timestamp\n   * @readonly\n   */\n  timestamp?: Date | null;\n  /** Custom data for un-typed activities */\n  customData?: CustomData;\n}\n\nexport enum ActivityType {\n  UNRECOGNIZED_TYPE = 'UNRECOGNIZED_TYPE',\n  SCHEDULED = 'SCHEDULED',\n  EMAIL_SENT = 'EMAIL_SENT',\n  EMAIL_NOT_SENT = 'EMAIL_NOT_SENT',\n  NOTIFICATION_SENT = 'NOTIFICATION_SENT',\n  TASK_CREATED = 'TASK_CREATED',\n  CUSTOM_ACTIVITY = 'CUSTOM_ACTIVITY',\n}\n\n/** @enumType */\nexport type ActivityTypeWithLiterals =\n  | ActivityType\n  | 'UNRECOGNIZED_TYPE'\n  | 'SCHEDULED'\n  | 'EMAIL_SENT'\n  | 'EMAIL_NOT_SENT'\n  | 'NOTIFICATION_SENT'\n  | 'TASK_CREATED'\n  | 'CUSTOM_ACTIVITY';\n\nexport interface CustomData {\n  /**\n   * Activity unique namespace\n   * @maxLength 50\n   */\n  namespace?: string | null;\n  /** Custom json field for any desired data */\n  customValue?: Record<string, any> | null;\n}\n\nexport interface CartAbandonedEvent {\n  /** @format GUID */\n  cartId?: string;\n  /**\n   * Time the cart was created\n   * @readonly\n   */\n  creationTime?: Date | null;\n  /**\n   * Time the cart was abandoned\n   * @readonly\n   */\n  abandonTime?: Date | null;\n  /** Buyer information */\n  buyerInfo?: BuyerInfo;\n  /** Amount of items in cart */\n  itemsCount?: number;\n  /** Coupon ID (if relevant) */\n  couponId?: string;\n  /** Subtotal of all line items in cart, not before shipping and taxes */\n  totals?: Totals;\n  /**\n   * Checkout URL - checkout with the abandoned cart details\n   * @format WEB_URL\n   */\n  checkoutUrl?: string;\n}\n\nexport interface Totals {\n  /**\n   * Subtotal of all line items in cart, without shipping and taxes\n   * @max 999999999.99\n   */\n  subtotal?: number | null;\n  /**\n   * Total cart price\n   * @max 999999999.99\n   */\n  total?: number | null;\n  /** Formatted total cart price includes currency symbol */\n  formattedTotal?: string;\n}\n\nexport interface CartRecoveredEvent {\n  /** @format GUID */\n  cartId?: string;\n  /**\n   * Time the cart was recovered\n   * @readonly\n   */\n  recoveredTime?: Date | null;\n  /**\n   * Time the cart was created\n   * @readonly\n   */\n  creationTime?: Date | null;\n  /**\n   * Time the cart was abandoned\n   * @readonly\n   */\n  abandonedTime?: Date | null;\n}\n\nexport interface CartDeletedEvent {\n  /** @format GUID */\n  instanceId?: string;\n  /** @format GUID */\n  cartId?: string;\n}\n\nexport interface GetAbandonedCartRequest {\n  /**\n   * Cart ID\n   * @format GUID\n   */\n  id: string;\n}\n\nexport interface GetAbandonedCartResponse {\n  /** Cart details */\n  abandonedCart?: AbandonedCart;\n}\n\nexport interface QueryAbandonedCartsRequest {\n  /** Query details */\n  query?: Query;\n}\n\nexport interface Query {\n  paging?: Paging;\n  /** A filter string, for more information see the intro section */\n  filter?: string | null;\n  /** Sort string, for more information see the intro section */\n  sort?: string | null;\n}\n\nexport interface Paging {\n  /**\n   * The number of items to load\n   * @max 100\n   */\n  limit?: number | null;\n  /** The offset since the beginning of the collection */\n  offset?: number | null;\n}\n\nexport interface QueryAbandonedCartsResponse {\n  /** Abandoned carts list */\n  abandonedCarts?: AbandonedCart[];\n  /** Total number of carts */\n  totalResults?: number;\n}\n\nexport interface DeleteCartRequest {\n  /**\n   * Cart ID\n   * @format GUID\n   */\n  id?: string;\n}\n\nexport interface DeleteCartResponse {}\n\nexport interface RedirectToCheckoutRequest {\n  /**\n   * abandoned cart id\n   * @format GUID\n   */\n  id?: string;\n  /**\n   * Identifier of the metaSite this cart uses\n   * @format GUID\n   */\n  metaSiteId?: string;\n  /**\n   * The currency code to create the redirection link with\n   * @format CURRENCY\n   */\n  currency?: string | null;\n}\n\nexport interface RawHttpResponse {\n  body?: Uint8Array;\n  statusCode?: number | null;\n  headers?: HeadersEntry[];\n}\n\nexport interface HeadersEntry {\n  key?: string;\n  value?: string;\n}\n\nexport interface MessageEnvelope {\n  /**\n   * App instance ID.\n   * @format GUID\n   */\n  instanceId?: string | null;\n  /**\n   * Event type.\n   * @maxLength 150\n   */\n  eventType?: string;\n  /** The identification type and identity data. */\n  identity?: IdentificationData;\n  /** Stringify payload. */\n  data?: string;\n}\n\nexport interface IdentificationData extends IdentificationDataIdOneOf {\n  /**\n   * ID of a site visitor that has not logged in to the site.\n   * @format GUID\n   */\n  anonymousVisitorId?: string;\n  /**\n   * ID of a site visitor that has logged in to the site.\n   * @format GUID\n   */\n  memberId?: string;\n  /**\n   * ID of a Wix user (site owner, contributor, etc.).\n   * @format GUID\n   */\n  wixUserId?: string;\n  /**\n   * ID of an app.\n   * @format GUID\n   */\n  appId?: string;\n  /** @readonly */\n  identityType?: WebhookIdentityTypeWithLiterals;\n}\n\n/** @oneof */\nexport interface IdentificationDataIdOneOf {\n  /**\n   * ID of a site visitor that has not logged in to the site.\n   * @format GUID\n   */\n  anonymousVisitorId?: string;\n  /**\n   * ID of a site visitor that has logged in to the site.\n   * @format GUID\n   */\n  memberId?: string;\n  /**\n   * ID of a Wix user (site owner, contributor, etc.).\n   * @format GUID\n   */\n  wixUserId?: string;\n  /**\n   * ID of an app.\n   * @format GUID\n   */\n  appId?: string;\n}\n\nexport enum WebhookIdentityType {\n  UNKNOWN = 'UNKNOWN',\n  ANONYMOUS_VISITOR = 'ANONYMOUS_VISITOR',\n  MEMBER = 'MEMBER',\n  WIX_USER = 'WIX_USER',\n  APP = 'APP',\n}\n\n/** @enumType */\nexport type WebhookIdentityTypeWithLiterals =\n  | WebhookIdentityType\n  | 'UNKNOWN'\n  | 'ANONYMOUS_VISITOR'\n  | 'MEMBER'\n  | 'WIX_USER'\n  | 'APP';\n","import * as ambassadorWixStoresV1AbandonedCart from './stores-v1-abandoned-cart-abandoned-carts.http.js';\nimport * as ambassadorWixStoresV1AbandonedCartTypes from './stores-v1-abandoned-cart-abandoned-carts.types.js';\nimport * as ambassadorWixStoresV1AbandonedCartUniversalTypes from './stores-v1-abandoned-cart-abandoned-carts.universal.js';\n\nexport type __PublicMethodMetaInfo<\n  K = string,\n  M = unknown,\n  T = unknown,\n  S = unknown,\n  Q = unknown,\n  R = unknown\n> = {\n  getUrl: (context: any) => string;\n  httpMethod: K;\n  path: string;\n  pathParams: M;\n  __requestType: T;\n  __originalRequestType: S;\n  __responseType: Q;\n  __originalResponseType: R;\n};\n\nexport function getAbandonedCart(): __PublicMethodMetaInfo<\n  'GET',\n  { id: string },\n  ambassadorWixStoresV1AbandonedCartUniversalTypes.GetAbandonedCartRequest,\n  ambassadorWixStoresV1AbandonedCartTypes.GetAbandonedCartRequest,\n  ambassadorWixStoresV1AbandonedCartUniversalTypes.GetAbandonedCartResponse,\n  ambassadorWixStoresV1AbandonedCartTypes.GetAbandonedCartResponse\n> {\n  const payload = { id: ':id' } as any;\n\n  const getRequestOptions =\n    ambassadorWixStoresV1AbandonedCart.getAbandonedCart(payload);\n\n  const getUrl = (context: any): string => {\n    const { url } = getRequestOptions(context);\n    return url!;\n  };\n\n  return {\n    getUrl,\n    httpMethod: 'GET',\n    path: '/v1/abandonedCarts/{id}',\n    pathParams: { id: 'id' },\n    __requestType: null as any,\n    __originalRequestType: null as any,\n    __responseType: null as any,\n    __originalResponseType: null as any,\n  };\n}\n\nexport function queryAbandonedCarts(): __PublicMethodMetaInfo<\n  'POST',\n  {},\n  ambassadorWixStoresV1AbandonedCartUniversalTypes.QueryAbandonedCartsRequest,\n  ambassadorWixStoresV1AbandonedCartTypes.QueryAbandonedCartsRequest,\n  ambassadorWixStoresV1AbandonedCartUniversalTypes.QueryAbandonedCartsResponse,\n  ambassadorWixStoresV1AbandonedCartTypes.QueryAbandonedCartsResponse\n> {\n  const payload = {} as any;\n\n  const getRequestOptions =\n    ambassadorWixStoresV1AbandonedCart.queryAbandonedCarts(payload);\n\n  const getUrl = (context: any): string => {\n    const { url } = getRequestOptions(context);\n    return url!;\n  };\n\n  return {\n    getUrl,\n    httpMethod: 'POST',\n    path: '/v1/abandonedCarts/query',\n    pathParams: {},\n    __requestType: null as any,\n    __originalRequestType: null as any,\n    __responseType: null as any,\n    __originalResponseType: null as any,\n  };\n}\n\nexport {\n  AbandonedCart as AbandonedCartOriginal,\n  Status as StatusOriginal,\n  StatusWithLiterals as StatusWithLiteralsOriginal,\n  BuyerInfo as BuyerInfoOriginal,\n  Identity as IdentityOriginal,\n  IdentityWithLiterals as IdentityWithLiteralsOriginal,\n  Activity as ActivityOriginal,\n  ActivityType as ActivityTypeOriginal,\n  ActivityTypeWithLiterals as ActivityTypeWithLiteralsOriginal,\n  CustomData as CustomDataOriginal,\n  CartAbandonedEvent as CartAbandonedEventOriginal,\n  Totals as TotalsOriginal,\n  CartRecoveredEvent as CartRecoveredEventOriginal,\n  CartDeletedEvent as CartDeletedEventOriginal,\n  GetAbandonedCartRequest as GetAbandonedCartRequestOriginal,\n  GetAbandonedCartResponse as GetAbandonedCartResponseOriginal,\n  QueryAbandonedCartsRequest as QueryAbandonedCartsRequestOriginal,\n  Query as QueryOriginal,\n  Paging as PagingOriginal,\n  QueryAbandonedCartsResponse as QueryAbandonedCartsResponseOriginal,\n  DeleteCartRequest as DeleteCartRequestOriginal,\n  DeleteCartResponse as DeleteCartResponseOriginal,\n  RedirectToCheckoutRequest as RedirectToCheckoutRequestOriginal,\n  RawHttpResponse as RawHttpResponseOriginal,\n  HeadersEntry as HeadersEntryOriginal,\n  MessageEnvelope as MessageEnvelopeOriginal,\n  IdentificationData as IdentificationDataOriginal,\n  IdentificationDataIdOneOf as IdentificationDataIdOneOfOriginal,\n  WebhookIdentityType as WebhookIdentityTypeOriginal,\n  WebhookIdentityTypeWithLiterals as WebhookIdentityTypeWithLiteralsOriginal,\n} from './stores-v1-abandoned-cart-abandoned-carts.types.js';\n"],"mappings":"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","names":["getAbandonedCart","queryAbandonedCarts","import_rest_modules","payload","Status","Identity","ActivityType","WebhookIdentityType","getAbandonedCart","queryAbandonedCarts"]}