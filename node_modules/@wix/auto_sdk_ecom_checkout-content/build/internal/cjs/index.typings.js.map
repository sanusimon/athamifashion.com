{"version":3,"sources":["../../../index.typings.ts","../../../src/ecom-api-v1-checkout-content-provider-checkout-content.universal.ts","../../../src/ecom-api-v1-checkout-content-provider-checkout-content.http.ts"],"sourcesContent":["export * from './src/ecom-api-v1-checkout-content-provider-checkout-content.universal.js';\n","import { transformError as sdkTransformError } from '@wix/sdk-runtime/transform-error';\nimport {\n  renameKeysFromSDKRequestToRESTRequest,\n  renameKeysFromRESTResponseToSDKResponse,\n} from '@wix/sdk-runtime/rename-all-nested-keys';\nimport { HttpClient, NonNullablePaths } from '@wix/sdk-types';\nimport * as ambassadorWixEcomApiV1CheckoutContentProvider from './ecom-api-v1-checkout-content-provider-checkout-content.http.js';\n\nexport interface CheckoutContentProvider {\n  /** @format GUID */\n  _id?: string | null;\n}\n\nexport interface GetCheckoutContentRequest {\n  /**\n   * ID of the app that provides the content.\n   * @format GUID\n   */\n  appId: string;\n  /**\n   * ID of the specific component content.\n   * @format GUID\n   */\n  componentId: string;\n  /**\n   * When a language is specified, it will be retrieved the content in that language.\n   * @minLength 1\n   * @maxLength 20\n   */\n  languageCode?: string | null;\n}\n\nexport interface GetCheckoutContentResponse {\n  /** The requested CheckoutContent. */\n  checkoutContent?: CheckoutContent;\n}\n\nexport interface CheckoutContent {\n  /**\n   * Text to display in place of the \"Continue shopping\" link.\n   * @minLength 1\n   * @maxLength 30\n   * @readonly\n   */\n  continueShoppingLink?: string | null;\n  /**\n   * Text to display in place of the \"Order summary\" title.\n   * @minLength 1\n   * @maxLength 30\n   * @readonly\n   */\n  orderSummary?: string | null;\n  /**\n   * Text to display in place of the \"Customer details\" title.\n   * @minLength 1\n   * @maxLength 30\n   * @readonly\n   */\n  customerDetails?: string | null;\n  /**\n   * Text to display in place of the \"Review and place order\" title.\n   * @minLength 1\n   * @maxLength 50\n   * @readonly\n   */\n  reviewAndPlaceOrder?: string | null;\n  /**\n   * Text to display in place of the \"Place order\" button.\n   * @minLength 1\n   * @maxLength 50\n   * @readonly\n   */\n  placeOrderButton?: string | null;\n  /**\n   * Text to display in place of the \"Place order & pay\" button.\n   * @minLength 1\n   * @maxLength 50\n   * @readonly\n   */\n  placeOrderPayButton?: string | null;\n}\n\n/** @docsIgnore */\nexport type GetCheckoutContentApplicationErrors =\n  | {\n      code?: 'TRANSLATIONS_NOT_FOUND';\n      description?: string;\n      data?: Record<string, any>;\n    }\n  | {\n      code?: 'REQUIRED_APP_NOT_INSTALLED';\n      description?: string;\n      data?: Record<string, any>;\n    }\n  | {\n      code?: 'REQUIRED_COMPONENT_DOES_NOT_EXIST';\n      description?: string;\n      data?: Record<string, any>;\n    };\n\n/**\n * Retrieves a CheckoutContent.\n * @public\n * @documentationMaturity preview\n * @requiredField identifiers\n * @requiredField identifiers.appId\n * @requiredField identifiers.componentId\n * @permissionId ECOM.CHECKOUT_CONTENT_READ\n * @applicableIdentity APP\n * @fqn wix.ecom.checkout_content_spi_host.v1.CheckoutContentSPIHostService.GetCheckoutContent\n */\nexport async function getCheckoutContent(\n  identifiers: NonNullablePaths<\n    GetCheckoutContentIdentifiers,\n    `appId` | `componentId`,\n    2\n  >,\n  options?: GetCheckoutContentOptions\n): Promise<\n  GetCheckoutContentResponse & {\n    __applicationErrorsType?: GetCheckoutContentApplicationErrors;\n  }\n> {\n  // @ts-ignore\n  const { httpClient, sideEffects } = arguments[2] as {\n    httpClient: HttpClient;\n    sideEffects?: any;\n  };\n\n  const payload = renameKeysFromSDKRequestToRESTRequest({\n    appId: identifiers?.appId,\n    componentId: identifiers?.componentId,\n    languageCode: options?.languageCode,\n  });\n\n  const reqOpts =\n    ambassadorWixEcomApiV1CheckoutContentProvider.getCheckoutContent(payload);\n\n  sideEffects?.onSiteCall?.();\n  try {\n    const result = await httpClient.request(reqOpts);\n    sideEffects?.onSuccess?.(result);\n\n    return renameKeysFromRESTResponseToSDKResponse(result.data)!;\n  } catch (err: any) {\n    const transformedError = sdkTransformError(\n      err,\n      {\n        spreadPathsToArguments: {},\n        explicitPathsToArguments: {\n          appId: '$[0].appId',\n          componentId: '$[0].componentId',\n          languageCode: '$[1].languageCode',\n        },\n        singleArgumentUnchanged: false,\n      },\n      ['identifiers', 'options']\n    );\n    sideEffects?.onError?.(err);\n\n    throw transformedError;\n  }\n}\n\nexport interface GetCheckoutContentIdentifiers {\n  /**\n   * ID of the app that provides the content.\n   * @format GUID\n   */\n  appId: string;\n  /**\n   * ID of the specific component content.\n   * @format GUID\n   */\n  componentId: string;\n}\n\nexport interface GetCheckoutContentOptions {\n  /**\n   * When a language is specified, it will be retrieved the content in that language.\n   * @minLength 1\n   * @maxLength 20\n   */\n  languageCode?: string | null;\n}\n","import { toURLSearchParams } from '@wix/sdk-runtime/rest-modules';\nimport { resolveUrl } from '@wix/sdk-runtime/rest-modules';\nimport { ResolveUrlOpts } from '@wix/sdk-runtime/rest-modules';\nimport { RequestOptionsFactory } from '@wix/sdk-types';\n\nfunction resolveWixEcomCheckoutContentSpiHostV1CheckoutContentSpiHostServiceUrl(\n  opts: Omit<ResolveUrlOpts, 'domainToMappings'>\n) {\n  const domainToMappings = {\n    'bo._base_domain_': [\n      {\n        srcPath: '/ecom/v1/checkout-content',\n        destPath: '/v1/checkout-content',\n      },\n    ],\n    'wixbo.ai': [\n      {\n        srcPath: '/ecom/v1/checkout-content',\n        destPath: '/v1/checkout-content',\n      },\n    ],\n    'wix-bo.com': [\n      {\n        srcPath: '/ecom/v1/checkout-content',\n        destPath: '/v1/checkout-content',\n      },\n    ],\n    'www._base_domain_': [\n      {\n        srcPath: '/ecom/v1/checkout-content',\n        destPath: '/v1/checkout-content',\n      },\n    ],\n    'www.wixapis.com': [\n      {\n        srcPath: '/ecom/v1/checkout-content',\n        destPath: '/v1/checkout-content',\n      },\n    ],\n    _: [\n      {\n        srcPath: '/ecom/v1/checkout-content',\n        destPath: '/v1/checkout-content',\n      },\n    ],\n    '*.dev.wix-code.com': [\n      {\n        srcPath: '/ecom/api/v1/checkout-content',\n        destPath: '/v1/checkout-content',\n      },\n    ],\n  };\n\n  return resolveUrl(Object.assign(opts, { domainToMappings }));\n}\n\nconst PACKAGE_NAME = '@wix/auto_sdk_ecom_checkout-content';\n\n/** Retrieves a CheckoutContent. */\nexport function getCheckoutContent(\n  payload: object\n): RequestOptionsFactory<any> {\n  function __getCheckoutContent({ host }: any) {\n    const metadata = {\n      entityFqdn: 'wix.ecom.api.v1.checkout_content_provider',\n      method: 'GET' as any,\n      methodFqn:\n        'wix.ecom.checkout_content_spi_host.v1.CheckoutContentSPIHostService.GetCheckoutContent',\n      packageName: PACKAGE_NAME,\n      migrationOptions: {\n        optInTransformResponse: true,\n      },\n      url: resolveWixEcomCheckoutContentSpiHostV1CheckoutContentSpiHostServiceUrl(\n        {\n          protoPath: '/v1/checkout-content/{appId}/{componentId}',\n          data: payload,\n          host,\n        }\n      ),\n      params: toURLSearchParams(payload),\n    };\n\n    return metadata;\n  }\n\n  return __getCheckoutContent;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,4BAAAA;AAAA;AAAA;;;ACAA,6BAAoD;AACpD,oCAGO;;;ACJP,0BAAkC;AAClC,IAAAC,uBAA2B;AAI3B,SAAS,uEACP,MACA;AACA,QAAM,mBAAmB;AAAA,IACvB,oBAAoB;AAAA,MAClB;AAAA,QACE,SAAS;AAAA,QACT,UAAU;AAAA,MACZ;AAAA,IACF;AAAA,IACA,YAAY;AAAA,MACV;AAAA,QACE,SAAS;AAAA,QACT,UAAU;AAAA,MACZ;AAAA,IACF;AAAA,IACA,cAAc;AAAA,MACZ;AAAA,QACE,SAAS;AAAA,QACT,UAAU;AAAA,MACZ;AAAA,IACF;AAAA,IACA,qBAAqB;AAAA,MACnB;AAAA,QACE,SAAS;AAAA,QACT,UAAU;AAAA,MACZ;AAAA,IACF;AAAA,IACA,mBAAmB;AAAA,MACjB;AAAA,QACE,SAAS;AAAA,QACT,UAAU;AAAA,MACZ;AAAA,IACF;AAAA,IACA,GAAG;AAAA,MACD;AAAA,QACE,SAAS;AAAA,QACT,UAAU;AAAA,MACZ;AAAA,IACF;AAAA,IACA,sBAAsB;AAAA,MACpB;AAAA,QACE,SAAS;AAAA,QACT,UAAU;AAAA,MACZ;AAAA,IACF;AAAA,EACF;AAEA,aAAO,iCAAW,OAAO,OAAO,MAAM,EAAE,iBAAiB,CAAC,CAAC;AAC7D;AAEA,IAAM,eAAe;AAGd,SAAS,mBACd,SAC4B;AAC5B,WAAS,qBAAqB,EAAE,KAAK,GAAQ;AAC3C,UAAM,WAAW;AAAA,MACf,YAAY;AAAA,MACZ,QAAQ;AAAA,MACR,WACE;AAAA,MACF,aAAa;AAAA,MACb,kBAAkB;AAAA,QAChB,wBAAwB;AAAA,MAC1B;AAAA,MACA,KAAK;AAAA,QACH;AAAA,UACE,WAAW;AAAA,UACX,MAAM;AAAA,UACN;AAAA,QACF;AAAA,MACF;AAAA,MACA,YAAQ,uCAAkB,OAAO;AAAA,IACnC;AAEA,WAAO;AAAA,EACT;AAEA,SAAO;AACT;;;ADyBA,eAAsBC,oBACpB,aAKA,SAKA;AAEA,QAAM,EAAE,YAAY,YAAY,IAAI,UAAU,CAAC;AAK/C,QAAM,cAAU,qEAAsC;AAAA,IACpD,OAAO,aAAa;AAAA,IACpB,aAAa,aAAa;AAAA,IAC1B,cAAc,SAAS;AAAA,EACzB,CAAC;AAED,QAAM,UAC0C,mBAAmB,OAAO;AAE1E,eAAa,aAAa;AAC1B,MAAI;AACF,UAAM,SAAS,MAAM,WAAW,QAAQ,OAAO;AAC/C,iBAAa,YAAY,MAAM;AAE/B,eAAO,uEAAwC,OAAO,IAAI;AAAA,EAC5D,SAAS,KAAU;AACjB,UAAM,uBAAmB,uBAAAC;AAAA,MACvB;AAAA,MACA;AAAA,QACE,wBAAwB,CAAC;AAAA,QACzB,0BAA0B;AAAA,UACxB,OAAO;AAAA,UACP,aAAa;AAAA,UACb,cAAc;AAAA,QAChB;AAAA,QACA,yBAAyB;AAAA,MAC3B;AAAA,MACA,CAAC,eAAe,SAAS;AAAA,IAC3B;AACA,iBAAa,UAAU,GAAG;AAE1B,UAAM;AAAA,EACR;AACF;","names":["getCheckoutContent","import_rest_modules","getCheckoutContent","sdkTransformError"]}